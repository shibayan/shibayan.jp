---
import { Image } from 'astro:assets';
import Base from '../layouts/Base.astro';
import Footer from '../components/Footer.astro';

import avatarJpg from '../images/shibayan.jpg';
import avatarAlt from '../images/shibayan_alt.png';
import mvpBadge from '../images/microsoft-most-valuable-professional-mvp.png';
import topPartnerBadge from '../images/top-partner-engineer-award.png';
import certAzureAdmin from '../images/microsoft-certified-azure-administrator-associate-az-104.png';
import certAzureDev from '../images/microsoft-certified-azure-developer-associate.png';
import certAzureSec from '../images/microsoft-certified-azure-security-engineer-associate.png';
import certAzureArch from '../images/microsoft-certified-azure-solutions-architect-expert.png';
import certDevOps from '../images/microsoft-certified-devops-engineer-expert.png';
import certCosmosDb from '../images/microsoft-certified-azure-cosmos-db-developer-specialty.png';
import certGhActions from '../images/github-actions.png';
import certGhSecurity from '../images/github-advanced-security.png';
import iconX from '../images/x.png';
import iconBluesky from '../images/bluesky.png';
import iconGithub from '../images/github.png';
import iconLinkedin from '../images/linkedin.png';
import iconHatena from '../images/hatenablog.png';
import iconDev from '../images/dev.png';
import iconSpeakerdeck from '../images/speakerdeck.png';
import heroImage from '../images/hero.jpg';

const awards = [
  {
    badge: mvpBadge,
    url: 'https://mvp.microsoft.com/en-US/mvp/profile/e1ba70c0-3c9a-e411-93f2-9cb65495d3c4',
    entries: [
      { title: 'Microsoft MVP for Microsoft Azure', period: '2018 – 2026' },
      { title: 'Microsoft MVP for Visual Studio and Development Technologies', period: '2015 – 2018' },
      { title: 'Microsoft MVP for ASP.NET/IIS', period: '2011 – 2015' },
    ],
  },
  {
    badge: topPartnerBadge,
    entries: [
      { title: 'Microsoft Top Partner Engineer Award <Azure>', period: '2023 – 2026' },
    ],
  },
];

const certifications = [
  { img: certAzureAdmin, url: 'https://www.credly.com/badges/f53f2068-650b-4da9-92a7-37799179996a/public_url', name: 'Azure Administrator', level: 'Associate' },
  { img: certAzureDev, url: 'https://www.credly.com/badges/b11ad743-c32d-49ee-9a35-c9988ff8405e/public_url', name: 'Azure Developer', level: 'Associate' },
  { img: certAzureSec, url: 'https://www.credly.com/badges/d495a3e9-04b6-4649-99d1-d0ce24a57590/public_url', name: 'Azure Security Engineer', level: 'Associate' },
  { img: certAzureArch, url: 'https://www.credly.com/badges/1fbdd367-f4c1-4985-b3f0-c2b65eee748f/public_url', name: 'Azure Solutions Architect', level: 'Expert' },
  { img: certDevOps, url: 'https://www.credly.com/badges/4ab50eff-b218-4a5d-90fa-13075198717c/public_url', name: 'DevOps Engineer', level: 'Expert' },
  { img: certCosmosDb, url: 'https://www.credly.com/badges/9faf0ae5-308a-495f-a5da-174ef319b187/public_url', name: 'Azure Cosmos DB Developer', level: 'Specialty' },
  { img: certGhActions, url: 'https://www.credly.com/badges/ca969fde-9a0e-4198-9541-2458e932dd98/public_url', name: 'GitHub Actions', level: '' },
  { img: certGhSecurity, url: 'https://www.credly.com/badges/bdbb4a67-2494-43dd-af28-371329a05f41/public_url', name: 'GitHub Advanced Security', level: '' },
];

const connections = [
  { img: null, url: 'mailto:me@shibayan.jp', label: 'Email', handle: 'me@shibayan.jp' },
  { img: iconX, url: 'https://x.com/shibayan', label: 'X', handle: '@shibayan' },
  { img: iconBluesky, url: 'https://bsky.app/profile/shibayan.jp', label: 'Bluesky', handle: '@shibayan.jp' },
  { img: iconGithub, url: 'https://github.com/shibayan', label: 'GitHub', handle: 'shibayan' },
  { img: iconLinkedin, url: 'https://www.linkedin.com/in/tatsuro-shibamura/', label: 'LinkedIn', handle: 'tatsuro-shibamura' },
  { img: iconHatena, url: 'https://blog.shibayan.jp', label: 'Hatena Blog', handle: 'blog.shibayan.jp' },
  { img: iconDev, url: 'https://dev.to/shibayan', label: 'DEV Community', handle: 'shibayan' },
  { img: iconSpeakerdeck, url: 'https://speakerdeck.com/shibayan', label: 'SpeakerDeck', handle: 'shibayan' },
];

const ossProjects = [
  {
    name: 'keyvault-acmebot',
    description: 'Automated ACME SSL/TLS certificate management built around Azure Key Vault. Supports Azure App Service, CDN, Front Door, and Application Gateway.',
    url: 'https://github.com/shibayan/keyvault-acmebot',
    stars: '1,000+',
    tags: ['Azure Functions', 'Key Vault', "Let's Encrypt", 'ACME'],
  },
  {
    name: 'Sharprompt',
    description: 'Interactive command-line based application framework for C#. Provides a rich set of prompts for building beautiful CLI applications.',
    url: 'https://github.com/shibayan/Sharprompt',
    stars: '840+',
    tags: ['C#', '.NET', 'CLI', 'Interactive'],
  },
  {
    name: 'appservice-acmebot',
    description: 'Automated ACME SSL/TLS certificates issuer for Azure App Service (Web Apps / Functions / Containers).',
    url: 'https://github.com/shibayan/appservice-acmebot',
    stars: '410+',
    tags: ['Azure Functions', 'App Service', "Let's Encrypt", 'ACME'],
  },
];

const expertise = [
  { label: 'Azure', color: 'bg-blue-50 text-blue-700' },
  { label: 'Cloud Native', color: 'bg-emerald-50 text-emerald-700' },
  { label: 'ASP.NET / C#', color: 'bg-violet-50 text-violet-700' },
  { label: 'Windows on Arm', color: 'bg-amber-50 text-amber-700' },
  { label: 'Open Source', color: 'bg-rose-50 text-rose-700' },
];
---

<Base>
  <main class="max-w-4xl mx-auto px-6 sm:pt-8 pb-12">
    <!-- Hero with overlay -->
    <section class="text-center mb-24">
      <div class="relative -mx-6 sm:mx-0 overflow-hidden sm:rounded-2xl mb-10">
        <Image
          src={heroImage}
          alt=""
          class="w-full h-96 sm:h-80 md:h-96 object-cover"
          widths={[640, 960, 1280]}
          sizes="(max-width: 640px) 100vw, (max-width: 1024px) 100vw, 896px"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>
        <div class="absolute bottom-0 inset-x-0 flex flex-col items-center pb-6 sm:pb-8">
          <div class="group relative w-24 h-24 sm:w-28 sm:h-28 mb-4 cursor-pointer">
            <Image
              src={avatarJpg}
              alt="Tatsuro Shibamura"
              class="absolute inset-0 w-full h-full rounded-full object-cover ring-4 ring-white/80 shadow-lg transition-opacity duration-300 group-hover:opacity-0"
              width="128"
              height="128"
            />
            <Image
              src={avatarAlt}
              alt="Tatsuro Shibamura"
              class="absolute inset-0 w-full h-full rounded-full object-cover ring-4 ring-white/80 shadow-lg transition-opacity duration-300 opacity-0 group-hover:opacity-100"
              width="128"
              height="128"
            />
          </div>
          <h1 class="text-3xl sm:text-4xl font-bold tracking-tight text-white mb-1 drop-shadow-lg">
            Tatsuro Shibamura
          </h1>
          <p class="text-white/80 text-base sm:text-lg drop-shadow-md">
            Software Engineer / Microsoft MVP for Azure
          </p>
        </div>
      </div>
      <p class="text-gray-400 text-sm max-w-xl mx-auto mt-4 leading-relaxed">
        Cloud-native development and Azure infrastructure specialist with 15+ years of experience.
        Actively contributing to the developer community through technical writing, open-source projects,
        and conference presentations as a long-tenured Microsoft MVP.
      </p>
      <div class="flex flex-wrap justify-center gap-2 mt-6">
        {expertise.map((item) => (
          <span class={`px-3 py-1 rounded-full text-xs font-medium ${item.color}`}>{item.label}</span>
        ))}
      </div>
      <div class="flex flex-wrap justify-center gap-3 mt-8">
        <a href="https://blog.shibayan.jp" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-gray-900 text-white text-sm font-medium hover:bg-gray-700 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
          Blog
        </a>
        <a href="/slides/" class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-gray-900 text-white text-sm font-medium hover:bg-gray-700 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"/></svg>
          Presentations
        </a>
        <a href="https://github.com/shibayan" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full border border-gray-200 text-gray-700 text-sm font-medium hover:bg-gray-50 hover:border-gray-300 transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
          GitHub
        </a>
        <a href="https://github.com/sponsors/shibayan" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 px-4 py-2 rounded-full border border-gray-200 text-gray-700 text-sm font-medium hover:bg-gray-50 hover:border-gray-300 transition-colors">
          <svg class="w-4 h-4 text-pink-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
          Sponsor
        </a>
      </div>
    </section>

    <!-- Awards -->
    <section class="mb-20">
      <div class="mb-8">
        <h2 class="text-sm font-semibold uppercase tracking-widest text-gray-400">Awards</h2>
        <p class="text-xs text-gray-400 mt-1">Recognized by Microsoft for contributions to the developer community since 2011.</p>
      </div>
      <div class="space-y-6">
        {awards.map((award) => (
          <div class="flex gap-6 items-start p-5 rounded-2xl bg-gray-50/80 border border-gray-100">
            {award.url ? (
              <a href={award.url} target="_blank" rel="noopener noreferrer" class="shrink-0 hover:scale-105 transition-transform">
                <Image src={award.badge} alt="" class="w-20 h-20 object-contain" width={80} height={80} />
              </a>
            ) : (
              <div class="shrink-0">
                <Image src={award.badge} alt="" class="w-20 h-20 object-contain" width={80} height={80} />
              </div>
            )}
            <div class="space-y-2 min-w-0">
              {award.entries.map((entry, i) => (
                <div class:list={[i > 0 && 'pt-2 border-t border-gray-200/60']}>
                  <p class="font-medium text-gray-900 text-sm leading-snug">{entry.title}</p>
                  <p class="text-xs text-gray-400 mt-0.5">{entry.period}</p>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Open Source -->
    <section class="mb-20">
      <div class="mb-8">
        <h2 class="text-sm font-semibold uppercase tracking-widest text-gray-400">Open Source</h2>
        <p class="text-xs text-gray-400 mt-1">Notable projects I maintain to help developers automate cloud infrastructure.</p>
      </div>
      <div class="space-y-4">
        {ossProjects.map((project) => (
          <a
            href={project.url}
            target="_blank"
            rel="noopener noreferrer"
            class="group block p-5 rounded-2xl border border-gray-100 bg-white hover:bg-gray-50 hover:border-gray-200 hover:shadow-sm transition-all"
          >
            <div class="flex items-start justify-between gap-4">
              <div class="min-w-0">
                <div class="flex items-center gap-2">
                  <svg class="w-4 h-4 text-gray-400 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg>
                  <p class="text-sm font-semibold text-gray-900 group-hover:text-blue-600 transition-colors">{project.name}</p>
                  <span class="inline-flex items-center gap-0.5 text-[10px] text-gray-400 font-medium">
                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                    {project.stars}
                  </span>
                </div>
                <p class="text-xs text-gray-500 mt-1.5 leading-relaxed">{project.description}</p>
                <div class="flex flex-wrap gap-1.5 mt-3">
                  {project.tags.map((tag) => (
                    <span class="px-2 py-0.5 rounded-md bg-gray-100 text-[10px] font-medium text-gray-500">{tag}</span>
                  ))}
                </div>
              </div>
              <svg class="w-4 h-4 text-gray-300 shrink-0 mt-1 group-hover:text-gray-500 group-hover:translate-x-0.5 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
            </div>
          </a>
        ))}
      </div>
    </section>

    <!-- Certifications -->
    <section class="mb-20">
      <div class="mb-8">
        <h2 class="text-sm font-semibold uppercase tracking-widest text-gray-400">Certifications</h2>
        <p class="text-xs text-gray-400 mt-1">Professional certifications validating cloud and DevOps expertise.</p>
      </div>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
        {certifications.map((cert) => (
          <a
            href={cert.url}
            target="_blank"
            rel="noopener noreferrer"
            class="group flex flex-col items-center gap-3 p-4 rounded-2xl border border-gray-100 bg-white hover:bg-gray-50 hover:border-gray-200 hover:shadow-sm transition-all"
          >
            <Image src={cert.img} alt={cert.name} class="w-16 h-16 object-contain group-hover:scale-105 transition-transform" width={64} height={64} />
            <div class="text-center">
              <p class="text-xs font-medium text-gray-700 leading-tight">{cert.name}</p>
              {cert.level && <p class="text-[10px] text-gray-400 mt-0.5">{cert.level}</p>}
            </div>
          </a>
        ))}
      </div>
    </section>

    <!-- Connect -->
    <section class="mb-8">
      <div class="mb-8">
        <h2 class="text-sm font-semibold uppercase tracking-widest text-gray-400">Connect</h2>
        <p class="text-xs text-gray-400 mt-1">Find me on these platforms — feel free to reach out.</p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        {connections.map((conn) => (
          <a
            href={conn.url}
            target={conn.url.startsWith('mailto:') ? undefined : '_blank'}
            rel={conn.url.startsWith('mailto:') ? undefined : 'noopener noreferrer'}
            class="group flex items-center gap-4 px-5 py-4 rounded-2xl border border-gray-100 bg-white hover:bg-gray-50 hover:border-gray-200 hover:shadow-sm transition-all"
          >
            {conn.img ? (
              <Image src={conn.img} alt="" class="w-8 h-8 object-contain shrink-0 group-hover:scale-110 transition-transform" width={32} height={32} />
            ) : (
              <svg class="w-8 h-8 text-gray-400 shrink-0 group-hover:scale-110 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
            )}
            <div class="min-w-0">
              <p class="text-sm font-medium text-gray-900">{conn.label}</p>
              <p class="text-xs text-gray-400 truncate">{conn.handle}</p>
            </div>
            <svg class="w-4 h-4 text-gray-300 ml-auto shrink-0 group-hover:text-gray-500 group-hover:translate-x-0.5 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
          </a>
        ))}
      </div>
    </section>
  </main>

  <Footer />
</Base>
